app.controller('HomeCtrl', ['$interval','$scope', '$http', '$routeParams', 'UserServices', '$location', function($interval,$scope, $http, $routeParams, UserServices, $location){

  $scope.recipeImages1 = [
  "00/43/73/437365",
  "00/23/63/236316",
  "00/93/73/937347",
  "00/01/41/14127",
  "00/98/06/980610",
  "01/00/35/1003513",
  "01/07/30/1073020",
  "00/48/74/487487",
  "00/94/69/946954",
  "00/88/87/888720",
  "00/05/61/56187",
  "00/97/23/972396",
  "00/01/74/17406",
  "00/76/78/767809",
  "00/88/10/881045",
  "00/16/99/169903",
  "01/14/96/1149615",
  "01/09/66/1096609",
  "00/06/46/64647",
  "00/36/62/366201",
  "00/87/02/870226",
  "00/97/77/977704",
  "01/09/76/1097677",
  "00/57/91/579103",
  "00/63/60/636078",
  "01/91/06/1910661",
  "00/21/16/211614",
  "00/02/83/28365",
  "01/75/59/1755930",
  "01/16/28/1162814",
  "01/20/92/1209264",
  "01/38/92/1389234",
  "01/50/14/1501427",
  "00/26/46/264691",
  "00/21/57/215782",
  "01/03/57/1035773",
  "00/86/18/861846",
  "01/15/45/1154589",
  "01/10/90/1109067",
  "00/64/49/644977",
  "00/67/51/675135",
  "00/35/84/358478",
  "00/80/50/805077",
  "01/27/32/1273282",
  "00/03/92/39227",
  "00/24/03/240323",
  "00/04/68/46822",
  "01/28/55/1285512",
  "01/12/46/1124616",
  "00/71/12/711239",
  "00/03/28/32887",
  "01/91/18/1911839",
  "00/73/04/730447",
  "00/96/57/965797",
  "00/01/99/19994",
  "00/97/64/976430",
  "01/17/68/1176845",
  "00/87/80/878070",
  "00/99/57/995740",
  "00/62/78/627881",
  "00/00/83/8338",
  "01/05/83/1058336",
  "01/79/07/1790793",
  "00/48/20/482038",
  "01/75/45/1754524",
  "00/23/13/231338",
  "00/79/37/793721",
  "00/07/21/72161",
  "00/78/89/788908",
  "01/99/09/1990960",
  "00/70/48/704848",
  "00/69/21/692109",
  "00/98/43/984397",
  "00/52/51/525129",
  "01/59/07/1590775",
  "01/97/73/1977340",
  "00/00/18/1899",
  "01/51/31/1513114",
  "00/94/83/948323",
  "00/87/58/875854",
  "00/46/16/461661",
  "01/95/75/1957566",
  "00/96/60/966070",
  "00/00/33/3316",
  "01/00/21/1002141",
  "01/32/83/1328348",
  "00/52/81/528166",
  "00/67/20/672061",
  "00/02/94/29499",
  "00/99/18/991834",
  "00/88/82/888276",
  "00/98/02/980270",
  "00/97/22/972222",
  "01/50/28/1502837",
  "01/19/27/1192771",
  "00/77/55/775567",
  "00/14/15/141575",
  "00/22/56/225654",
  "00/73/53/735351",
  "00/74/28/742811",
  "01/95/98/1959843",
  "00/30/82/308268",
  "01/00/39/1003927",
  "00/69/13/691323",
  "02/00/18/2001808",
  "00/55/40/554062",
  "00/96/71/967169",
  "01/85/82/1858247",
  "01/27/12/1271246",
  "00/02/93/29317",
  "01/89/30/1893079",
  "01/88/71/1887118",
  "00/34/38/343891",
  "00/01/45/14597",
  "01/99/30/1993006",
  "00/66/00/660035",
  "00/58/59/585933",
  "00/01/76/17672",
  "00/84/53/845365",
  "01/12/17/1121794"
   ];

  var recipeImages2 = [
  "01/11/00/1110083",
  "00/58/21/582109",
  "00/39/39/393923",
  "00/96/07/960787",
  "00/99/74/997431",
  "00/13/64/136442",
  "01/12/52/1125255",
  "01/61/65/1616572",
  "00/25/94/259470",
  "00/41/69/416952",
  "00/04/49/44964",
  "00/80/03/800332",
  "00/57/61/576186",
  "00/10/12/101268",
  "00/07/92/79273",
  "00/00/62/6285",
  "00/51/64/516488",
  "00/33/56/335619",
  "01/13/35/1133508",
  "01/45/32/1453250",
  "01/50/28/1502841",
  "00/01/61/16122",
  "00/27/21/272196",
  "00/97/03/970332",
  "00/44/71/447153",
  "00/24/17/241789",
  "00/83/94/839477",
  "01/06/11/1061117",
  "00/05/51/55127",
  "00/91/44/914462",
  "00/24/49/244997",
  "00/15/28/152860",
  "01/05/64/1056450",
  "01/21/42/1214279",
  "00/88/54/885434",
  "00/38/32/383204",
  "00/09/39/93991",
  "01/44/08/1440822",
  "01/32/21/1322165",
  "00/00/79/7919",
  "01/30/52/1305258",
  "00/97/15/971594",
  "00/01/22/12233",
  "00/08/72/87261",
  "00/89/02/890299",
  "00/01/48/14863",
  "01/07/91/1079162",
  "01/35/94/1359465",
  "00/68/74/687447",
  "01/83/36/1833605",
  "00/93/17/931751",
  "01/10/71/1107119",
  "01/03/57/1035796",
  "00/26/94/269433",
  "01/17/91/1179119",
  "01/97/64/1976428",
  "00/96/99/969945",
  "00/48/45/484540",
  "01/50/28/1502843",
  "00/85/58/855835",
  "01/00/98/1009843",
  "01/41/64/1416471",
  "00/03/82/38217",
  "00/00/53/5333",
  "00/63/24/632448",
  "01/05/83/1058334",
  "00/55/22/552258",
  "01/01/15/1011586",
  "00/98/04/980407",
  "00/98/21/982149",
  "01/01/37/1013799",
  "00/00/81/8186",
  "00/35/91/359111",
  "01/16/69/1166952",
  "00/31/02/310287",
  "00/12/90/129088",
  "01/04/11/1041132",
  "01/69/06/1690638",
  "01/05/15/1051510",
  "00/70/25/702556",
  "01/02/56/1025638",
  "01/02/04/1020450",
  "01/04/08/1040817",
  "01/37/10/1371068",
  "01/79/13/1791354",
  "01/99/38/1993883",
  "01/65/54/1655415",
  "00/97/89/978904",
  "01/50/57/1505713",
  "00/99/09/990933",
  "00/98/01/980198",
  "01/00/92/1009283",
  "01/12/62/1126245",
  "00/58/80/588049",
  "00/66/61/666139",
  "00/67/34/673439",
  "00/70/43/704329",
  "00/20/49/204960",
  "00/16/09/160914",
  "01/12/53/1125398",
  "00/88/02/880268",
  "01/13/22/1132227",
  "02/00/44/2004499",
  "01/11/97/1119746",
  "01/88/53/1885328",
  "00/20/70/207008",
  "01/95/07/1950702",
  "00/43/35/433563",
  "00/77/56/775627",
  "00/46/71/467103",
  "00/25/85/258501",
  "00/81/20/812041",
  "01/10/21/1102114",
  "00/42/26/422600",
  "00/96/76/967625",
  "01/69/65/1696545",
  "00/71/63/716384",
  "01/08/73/1087397",
  "01/45/53/1455368",
  "00/96/85/968526",
  "00/60/00/600082",
  "00/02/65/26585",
  "00/67/06/670641",
  "00/96/85/968541",
  "01/06/85/1068532",
  "01/11/65/1116525",
  "00/66/62/666257",
  "00/67/05/670578",
  "01/79/28/1792887",
  "01/66/81/1668194",
  "00/83/54/835453",
  "01/34/19/1341960",
  "00/92/37/923737",
  "01/11/07/1110714",
  "00/14/00/140033",
  "00/22/67/226737",
  "01/99/98/1999880",
  "00/96/96/969601",
  "00/30/55/305586",
  "01/07/98/1079834",
  "00/00/62/6232",
  "00/98/00/980082",
  "00/83/55/835587",
  "00/62/15/621580",
  "01/43/69/1436922",
  "00/71/41/714189",
  "00/79/49/794988",
  "00/50/73/507310",
  "00/89/34/893410",
  "00/01/38/13897",
  "00/98/17/981792",
  "00/13/98/139821",
  "01/05/01/1050152",
  "00/39/64/396494",
  "01/10/23/1102303",
  "00/56/95/569578",
  "00/03/19/31997",
  "00/01/01/10115",
  "00/61/11/611172",
  "00/68/00/680090",
  "00/82/89/828985",
  "01/33/41/1334184",
  "00/05/05/50533",
  "01/61/17/1611785",
  "00/98/99/989916",
  "00/59/25/592563",
  "01/07/58/1075869",
  "00/43/50/435041",
  "00/57/67/576755",
  "00/03/30/33021",
  "01/04/95/1049511",
  "00/62/18/621872",
  "00/67/55/675588",
  "00/98/01/980147",
  "00/08/33/83342",
  "00/68/18/681842",
  "00/78/38/783847",
  "01/04/11/1041144",
  "01/52/08/1520850",
  "00/25/97/259799",
  "00/02/40/24056",
  "01/28/66/1286657",
  "00/52/66/526617",
  "00/25/93/259381",
  "00/69/75/697567",
  "00/56/54/565462",
  "01/11/82/1118272",
  "01/11/28/1112855",
  "00/52/17/521791",
  "00/88/21/882132",
  "01/36/67/1366794",
  "00/97/80/978020",
  "00/04/18/41844",
  "00/49/05/490581",
  "00/05/04/50496",
  "00/47/29/472969",
  "00/74/59/745987",
  "00/50/68/506854",
  "01/01/61/1016112",
  "00/04/29/42948",
  "00/44/25/442526",
  "00/70/21/702178",
  "01/01/47/1014715",
  "00/35/72/357214",
  "00/63/11/631165",
  "00/05/86/58630",
  "00/51/20/512070",
  "00/99/02/990227",
  "00/39/93/399310",
  "00/99/79/997951",
  "00/01/71/17120",
  "01/03/77/1037742",
  "00/34/43/344303",
  "01/37/53/1375340",
  "00/97/56/975617",
  "00/62/25/622507",
  "00/61/02/610281",
  "00/85/59/855988",
  "00/37/63/376325",
  "01/13/16/1131605",
  "01/11/90/1119000",
  "00/85/58/855865",
  "00/80/42/804214",
  "00/97/65/976561",
  "00/87/99/879901",
  "00/12/06/120660",
  "01/52/61/1526164",
  "00/81/59/815957",
  "00/05/99/59974",
  "00/08/53/85376",
  "00/84/71/847132",
  "01/11/95/1119583",
  "00/97/06/970627",
  "01/07/80/1078015",
  "01/08/73/1087325",
  "00/84/07/840707",
  "00/96/34/963442",
  "00/20/44/204442",
  "00/16/91/169135",
  "00/01/30/13048",
  "00/84/95/849567",
  "00/96/36/963665",
  "00/95/76/957626",
  "01/30/06/1300653",
  "01/01/85/1018591",
  "00/00/21/2101",
  "01/09/19/1091935",
  "00/37/67/376776",
  "01/70/59/1705967",
  "00/58/24/582459",
  "01/58/30/1583085",
  "01/06/03/1060308",
  "01/01/63/1016373",
  "00/09/13/91307",
  "00/85/46/854698",
  "01/90/88/1908801"
   ];

  var imageShuffle = $interval(function(){
    changeImages();
  }, 500)

  var changeImages = function () {
    var value1 = Math.floor(Math.random()*($scope.recipeImages1.length));
    var value2 = Math.floor(Math.random()*(recipeImages2.length));
    
    // console.log ('swapping '+value1+' by '+value2);
    
    var image1 = $scope.recipeImages1[value1];
    var image2 = recipeImages2[value2];

    $scope.recipeImages1.splice(value1,1,image2);
    recipeImages2.splice(value2,1,image1);
  }

  
  $scope.$on("$destroy", function(){
      $interval.cancel(imageShuffle);
  });

  $scope.user = UserServices;

  $scope.submitSearch = function (){
    UserServices.resetMain();
    UserServices.main.search_parameters.keywords.push($scope.keyword);
    UserServices.main.activateSearch = true;
    UserServices.main.freshSearch = true;
    $location.path("/search");
  };
}]);
